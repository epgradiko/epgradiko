[はじめに]
  epgrec3/22fix版のブランチ(実はフォーク)です。
  本家との互換性がなく明確に分けたいので名称を「epgrecUNA」とさせていただきます。
  "UNA"の部分は"ゆーえぬえー"と発音してください。
  当方で改造したepgrecUNA専用epgdumpの使用が必須です。オリジナルepgdumpではピクリ
  とも動きません。
  またデータベースにフィールド追加および仕様変更を行いましたので本家epgrecからの
  アップデートについては諦めてください。


[本家epgrecを運用状態で残して試用する場合の注意点]
  インストールの際に以下の点を注意してください。

  1.併用は、出来ません。

  2.インストールフォルダー名とepgdumpのファイル名を変更して本家epgrecと区別してください。

  3.epgrecUNAで使用するデータベースのテーブル名接頭辞"Recorder_"を変更してください。

  4.cronに登録するEPG更新スクリプトを本家epgrecかepgrecUNAのどちらかにして下さい。

  5.EPG取得と録画を行う際に、本家epgrecとepgrecUNAの双方でかち合わないように注意して
    ください。


[本家epgrecから乗り換えの場合]
  インストール前に以下の作業をしてください。本家epgrec環境を温存する場合も同様です。

  1.未実行予約を本家epgrecのUIから全削除をして下さい。DB操作だけではATのジョブが残り
    トラブルの原因となります。

  2.cronに登録するEPG更新スクリプトをepgrecUNAのものにして下さい。

  3.キーワード・録画済一覧を引き継ぎたい場合は、一旦テーブルをエクスポートしてください。
    初回起動でEPGを取得後にチャンネルとジャンルを新規DBに合わせて修正、フィールドの
    追加と並び修正をしてからインポートしてください。
    エクスポート・インポート作業についてはphpMyAdminを使用するのが簡単です。

  4.本家epgrecで使用していたデータベースのテーブルを全て削除してください。
    ただしepgrecUNAのテーブル名接頭辞"Recorder_"を変更する場合は、この限りではありません。


[インストール]
  本家epgrecとほぼ同じです。LAMPの導入・設定を含めそちらを参照してください。
  ここでは変更事項について記します。

  [TVチューナーまわり]
  ・PT1/PT2/PT3(recpt1)
    新本家 http://hg.honeyplanet.jp/pt1/の最新版に以下の"recpt1 httpサーバ機能追加パッチ"を
    適用してください。
    パッチを適用しないと録画中の時間短縮が出来ないため予約編成の変更があった場合に録画中番組を
    時間短縮できず他の予約が録画に失敗する事があります。

    recpt1 httpサーバ機能追加パッチ 新本家[c9b1d21c5035]以降対応版
    http://www1.axfc.net/uploader/so/3042920
    詳しくは readme.txtを

  ・KTV-FSUSB2/FSPCIE(recfsusb2n)
    以下のパッチをあててください。epgrecUNAでの操作性が向上します。

    recfsusb2n tsspliteer_lite内蔵・httpサーバー機能追加・recpt1ctl対応パッチ
    http://www1.axfc.net/uploader/Sc/so/350440

    recpt1を使用していない場合は、別途パッチ済みのrecpt1ctlを導入してください。

  ・friio(recfriio)
    必要に応じて以下のパッチをあててください。
    recpt1 EPG用TS出力モード追加パッチ     http://www1.axfc.net/uploader/Sc/so/304459&key=UNA
    recfriio BS/CSチャンネル指定追加パッチ http://www1.axfc.net/uploader/Sc/so/375501

  ・DVBドライバーの場合
    recdvbは、BS/CSが使えません。
    BS/CSを受信する場合は、BonDriverProxy + recbondを利用してください。

  [epgdump]
    epgrecUNA専用epgdumpをインストールしてください。


  [トランスコード]
    ffmpeg(またはavconv)と・X264は、出来合いでは機能制限されている場合がありますので
    なるべくソースから利用環境に最適化させた形でコンパイルしてインストールを行なってください。
    サムネール作成のみなら出来合いで問題ないかもしれません。
    またopenCLを利用する場合は、GPUドライバーが対応している必要があります。


  [間欠運用（省電力）]
    通常どおりcronにEPG更新スクリプト(shepherd.php)を登録してください。
    起動時終了時スクリプト(epgwakealarm.php)の登録方法は、本家epgrecと同じです。
    システムにより違いがあるため各自で調べて選択してください。

    [SysVinit]
    # cp ./init.d/epgwakealarm /etc/init.d
    # chmod 755 /etc/init.d/epgwakealarm
    # update-rc.d epgwakealarm defaults 99 01

    [upstart](コピー先はシステム依存)
    # cp ./init/epgwakealarm.conf /etc/init
    # chmod 644 /etc/init/epgwakealarm.conf

    [systemd]
    未調査


  [ストレージ残量警告メール通知]
    使用する場合は、sendmailを使える状態にして./settingsにある mail_config.php.sampleを
    mail_config.phpにリネームして中を編集してください。


  以降は、epgrecUNAについての追加事項です。

  [初回起動前の設定変更]
    1.config.phpの編集
      [CATVの周波数変換パススルー]
        TVチューナーと録画コマンドの双方が対応している必要があります。
        また録画コマンドにより指定方法が違います。

        チャンネルマップ設定を
        'GR23' => '23'
        から
        'GR23' => 'C23'
        に変更してください。'C23'の部分はCATV業者によって違いますので各自で調べてください。

      [追加設定]
        以下の設定が増えております。コメントを参考にして使用環境に合わせて変更してください。
        最低限 "TUNER_UNIT1"と "PT1_CMD_NUM"・$OTHER_TUNERS_CHARA・$rec_cmdsを設定してください。
        またHTTPDユーザーが "www-data"以外の場合は、"HTTPD_USER"と"HTTPD_GROUP"の変更をして下さい。
        "www-data"以外に変更する場合は、cronの方も忘れずに編集してください。

        // 第一チューナー設定(主にPTn)
        define( 'TUNER_UNIT1', 0 );							// 各放送波の論理チューナ数(地上波･衛星波で共用 ex.PT1が1枚なら2)
        define( 'PT1_CMD_NUM', 0 );							// 録画コマンド指定 $rec_cmds中のどれを使うか選択 DVBドライバーで地デジだけの場合はrecdvbでOKなはず

        // 録画コマンド(必ず内容を確認すること)
        $rec_cmds = array(
        	// PTn(recpt1)
        	0 => array(
        		'cmd'      => '/usr/local/bin/recpt1',		// コマンドフルパス
        		'b25'      => ' --b25 --strip',				// B25オプション
        		'sidEXT'   => '',							// 録画時--sid追加オプション
        		'falldely' => 0,							// 録画コマンド失敗時のwait(秒)
        		'epgTs'    => TRUE,							// EPG用TS出力パッチ使用時はTRUE
        		'cntrl'    => TRUE,							// recpt1ctl対応パッチ使用時はTRUE
        		'httpS'    => FALSE,						// httpサーバー機能対応時はTRUE
        	),
        	// DVB(recdvb)
        	1 => array(
        		'cmd'      => '/usr/local/bin/recdvb',
        		'b25'      => ' --b25 --strip',
        		'sidEXT'   => '',
        		'falldely' => 0,
        		'epgTs'    => TRUE,
        		'cntrl'    => TRUE,
        		'httpS'    => TRUE,
        	),
        	// recfsusb2n
        	2 => array(
        		'cmd'      => '/usr/local/bin/recfsusb2n',
        		'b25'      => ' --b25',
        		'sidEXT'   => '',
        		'falldely' => 10,
        		'epgTs'    => FALSE,
        		'cntrl'    => FALSE,
        		'httpS'    => FALSE,
        	),
        	// recfriio
        	3 => array(
        		'cmd'      => '/usr/local/bin/recfriio',
        		'b25'      => ' --b25',
        		'sidEXT'   => '',
        		'falldely' => 0,
        		'epgTs'    => FALSE,
        		'cntrl'    => FALSE,
        		'httpS'    => FALSE,
        	),
        );
        define( 'USE_DORECORD', FALSE );			// do-recored.shを使用する場合はTRUE(非推奨)
        
        // PTシリーズ以外のチューナーの (チューナー数に応じて増やすこと)
        $OTHER_TUNERS_CHARA = array(
        	// 地デジ
        	'GR' => array(
        		0 => array(
        			'reccmd'   => 0,				// 録画コマンド指定 $rec_cmds中からどれを使うか選択
        			'device'   => '',				// デバイス指定する場合にコマンドのオプションも含めて記述
        		),
        		1 => array(
        			'reccmd'   => 0,
        			'device'   => '',
        		),
        	),
        	// 衛星(BS/CS)
        	'BS' => array(
        		0 => array(
        			'reccmd'   => 0,
        			'device'   => '',
        		),
        		1 => array(
        			'reccmd'   => 0,
        			'device'   => '',
        		),
        	)
        );
        
        // リアルタイム視聴
        define( 'REALVIEW', FALSE );						// リアルタイム視聴を有効にするときはtrueに(新方式で録画コマンドの標準出力対応が必須・トランスコード対応)
        define( 'REALVIEW_HTTP', FALSE );					// HTTPサーバーでリアルタイム視聴をするときはtrueに(旧方式で録画コマンドにHTTPサーバー機能が必須・トランスコード非対応)
        define( 'REALVIEW_HTTP_PORT', '8888' ); 			// HTTPサーバーポート番号を入力する
        define( 'REALVIEW_PID', '/tmp/realview' );			// リアルタイム視聴チューナーPID保存テンポラリ
        
        // EPG取得関連
        define( 'HIDE_CH_EPG_GET', FALSE );					// 非表示チャンネルのEPGを取得するならTRUE
        define( 'EXTINCT_CH_AUTO_DELETE', FALSE );			// 廃止チャンネルを自動削除するならTRUE(HIDE_CH_EPG_GET=TRUE時のみに有効・メンテナンス画面あり)
        
        // 自動キーワ－ド予約の警告設定初期値(登録キーワード毎に変更可能・状態発生時に警告をログ出力する)
        define( 'CRITERION_CHECK', FALSE );					// 収録時間変動
        define( 'REST_ALERT', FALSE );						// 番組がヒットしない場合
        
        // 表示関連設定
        define( 'SEPARATE_RECORDS', 50 );					// 1ページ中の表示レコード数・0指定でページ化無効(共通)
        define( 'VIEW_OVERLOAD', 0 );						// 1ページ表示での上限を指定数上乗せする(共通)
        define( 'SEPARATE_RECORDS_RESERVE', FALSE );		// 1ページ中の表示レコード数・0指定でページ化無効・FALSEは共通を使用(予約一覧用)
        define( 'VIEW_OVERLOAD_RESERVE', FALSE );			// 1ページ表示での上限を指定数上乗せする・FALSEは共通を使用(予約一覧用)
        define( 'SEPARATE_RECORDS_RECORDED', FALSE );		// 1ページ中の表示レコード数・0指定でページ化無効・FALSEは共通を使用(録画済一覧用)
        define( 'VIEW_OVERLOAD_RECORDED', FALSE );			// 1ページ表示での上限を指定数上乗せする・FALSEは共通を使用(録画済一覧用)
        define( 'SEPARATE_RECORDS_LOGVIEW', 3000 );			// 1ページ中の表示レコード数・0指定でページ化無効・FALSEは共通を使用(ログ一覧用)
        
        // セキュリティ関連
        define( 'SETTING_CHANGE_GIP', FALSE );				// グローバルIPからの設定変更を許可する場合はTRUE
        define( 'STREAMURL_INC_PW', FALSE );					// ストリーミングURLにユーザー名とパスワードを含めるか(basic認証でのみ有効・平文のためセキュリティ上、問題あり)

        define( 'MANUAL_REV_PRIORITY', 10 );				// 手動予約の優先度
        define( 'HTTPD_USER', 'www-data' );					// HTTPD(apache)アカウント
        define( 'HTTPD_GROUP', 'www-data' );					// HTTPD(apache)アカウント
        define( 'DATA_UNIT_RADIX_BINARY', FALSE );			// 基数を1000から1024にする場合にTRUE
        define( 'VIEW_DISK_FREE_SIZE', TRUE );				// ヘッダーの録画ストレージ残り残量表示
        define( 'PT1_REBOOT', FALSE );							// PT1が不安定なときにリブートするかどうか
        define( 'REBOOT_CMD', 'sudo /sbin/shutdown -r now' );	// リブートコマンド
        //define( 'REBOOT_CMD', INSTALL_PATH.'/driver_reset.sh' );	// pt1ドライバー再読込み こっちにする場合は、modprobeをHTTPDから使えるようにして
        define( 'REBOOT_COMMENT', 'PT2 is out of order: SYSTEM REBOOT ' );

    2.do-record.shの編集
      ************************************************************************************
      *** 録画コマンドを直接起動するようになったため不要になりましたが利用は可能です。 ***
      *** ただし今後システム側では do-record.shの使用を考慮しませんのでご留意を        ***
      ************************************************************************************

      使用チューナーに合わせた変更が必要です。同梱したものを参考に編集をしてください。
      httpサーバーによるリアルタイム視聴を有効にした場合も対応が必要です。
      同梱したものは、PTシリーズ・KTV-FSUSB2N/FSPCIE・黒friioの組み合わせに対応しております。

    3. ./settingsにある bs_channel.phpと cs_channel.phpの編集
      番組表のチャンネルの並びを変更したい場合は、これらのファイルにてチャンネルの並びを
      変更してください。
      未視聴チャンネルがある場合は、以下の様にチャンネル番号を"NC"に変更するとEPG取得
      対象からはずされ処理が高速化されます。

      "BS_234" => "234",    // グリーンチャンネル
                   ↓
      "BS_234" => "NC",     // グリーンチャンネル


  [初回起動後の作業]
    1.無効な地デジ・サブチャンネルの非表示指定
      地デジ放送波（一部、BSにもあり）には１局につき最大３つまでサービスIDが設定され
      ています。中には使われていないものもありますが明確な判別方法がありません。
      番組表上では番組データの無いチャンネルは表示しないようにしてありますが番組検索
      では選択候補として表示されます。
      これを避けるため[番組表]→[チャンネル表示]クリック→[チャンネル名]クリックで
      表示されるダイアログにて放送されていないサブチャンネルを非表示にしてください。

    2.トランスコードの有効化と設定
      トランスコードを行なう場合は、./settingsにある trans_config.php.sampleを
      trans_config.phpにコピーすることで有効化されます。
      トランスコードの設定変更と視聴での有効化は、それを編集して下さい。
      ffmpegの環境構築は、必ずビルドを行なってください。
      またffmpegの設定については暫定的なものであり各自の好みに合わせて変更してください。

    3.選別番組表の有効化と設定
      選別番組表を利用する場合は、./settingsにある selected_channel.php.sampleを
      selected_channel.phpにコピーすることで有効化されます。
      このファイルを編集することで放送波を問わず好みのチャンネルを一覧表示する事が
      できます。


[オリジナルからの変更内容]
   1.予約重複判定をチューナー割り振りと優先度を考慮した処理に刷新
     優先度は手動予約や自動キーワードごとに指定

   2.異種チューナーの混在に対応
     config.phpの編集が必要です。do-record.shを利用する場合はそれも

   3.予約の開始時間を実時間で管理するように変更

   4.録画の後方糊代を重複判定に影響しないように変更

   5.重複判定で録画時間が短縮された予約には後方糊代を適用しないように変更

   6.自動キーワード予約の重複による予約漏れを番組表へのリンク付きでログに出力

   7.EPG更新を全ての空きチューナーで並列受信を行い高速化

   8.既に始まっている番組の即時録画開始に対応

   9.放送開始まで３分を切っている予約に対応

  10.録画開始まで３分を切っているスリープ待機中の予約の取り消しに対応

  11.録画停止に対応

  12.recpt1ctl対応録画コマンドで録画している場合、別途にEPGが更新されれば録画時間延伸に対応
     録画中番組の時間延伸を行うことが出来ますが自動では行われません。
     録画している番組の直後の番組を番組ID付き予約してください。（冒頭1分でOK）
     これにより終了予定時間前にEPG更新が行われ延伸処理が行われます。
     ただしEPG取得時に空チューナーが無い場合は出来ません。

  13.サブジャンルに対応  またジャンルを１番組につき最大３つまでに拡張

  14.EPG更新と時間追従バグを修正(EPGユニーク管理（MD5)にEventIDを追加)

  15.自動キーワード予約と手動予約での個別隣接短縮禁止指定が可能

  16.自動キーワード予約設定に開始時刻と終了時刻のシフト・時間幅固定指定・分割予約・
     保存ディレクトリー・録画ファイル名の形式を追加
     時間幅固定指定は、"終了時刻シフト"の数値の頭に'@'をつけることで指定
     分割予約は、指定時間で等間隔に分割する。また分割予約のキャンセル時に区画ごとの
     自動予約禁止ができる。
     保存ディレクトリーを振り分ける場合は、それぞれの保存ディレクトリーにドライブを
     シンボリックリンクしていると残容量があっても録画が出来ない場合があるので注意

  17.番組追従性を向上（チューナーに空きがあれば録画開始前にEPGを更新・EIT[p/f]対応）

  18.番組表と予約一覧にて予約表示をチューナー毎に色分けするようにした。
     地上波・衛星波のそれぞれで４チューナーまで定義済みですがそれ以上は、CSSに
     定義追加をして下さい。

  19.録画予約一覧と番組検索に表示番組の日時にその番組の番組表へのリンクを追加

  20.予約削除ダイアグに再自動予約禁止チェックボックスと番組検索ボタンを追加

  21.番組表の予約ダイアグに再自動予約禁止・再自動予約解禁ボタンと番組検索ボタンを追加

  22.キーワード検索でNOT検索対応(Linuxでテレビ総合4のレス925のパッチを導入)
     Google検索と同じです。語彙の前にNOT接頭辞'-'を付加してください。
     語彙開始が'-'の場合(NOT検索ではない)は、語彙を'"'で括ってください。

  23.登録済み自動キーワードの編集を可能に
     自動録画キーワード管理からはNo番号を録画予約一覧からは自動ID番号をクリックすることで
     設定が入力された状態で番組検索にジャンプします。

  24.地上波デジタルのマルチ編成チャンネルに対応(Rec10版epgdumpを導入により実現)
     SD分離録画そのものは録画コマンドの対応が必要です。
     また同じ局の複数のサブチャンネルを１チューナーにまとめる処理はありませんので
     必要ならばその都度、手動予約にて対応してください。

  25.ファイル名への半角記号使用制限の緩和
     使えない半角記号は、'\'・'/'・'''・'"'の４つです。
     制限から外された半角記号の使用については十分な注意を払ってください。

  26.チャンネル登録時のサービスID(SID)入力の自動化(Rec10版epgdumpを導入により実現)

  27.衛星波の新規チャンネル登録の自動化(Rec10版epgdumpを導入により実現)
     これには既存チャンネルのサービスID(SID)変更も含まれます。

  28.衛星波の物理チャンネル変更に対応(Rec10版epgdumpを導入により実現)
     サービスID(SID)変更と同時に行われた場合は、新規チャンネル扱いとなります。

  29.リアルタイム視聴に対応
     チューナー資源管理に組み込まれているため録画開始時やEPG更新時に空きチューナーが
     ない場合はリアルタイム視聴を自動で中断します。
     操作については番組表のチャンネル名の下の「視聴」をクリックすることでASXが
     ダウンロードされ関連付けされたhttp配信対応プレイヤーで（VLC以外では未確認）
     そのチャンネルを視聴できます。
     配信方法は、以下の２通りです。

    a.httpd(apacheなど)配信方式
     録画コマンドの標準出力を利用するので録画コマンドのhttpサーバー機能とdo-record.shが
     不要になった。
     視聴終了は、プレイヤーで再生停止するだけでよくWUIからの操作が不要になった。
     トランスコードストリーミングに対応

    b.httpサーバー方式(recpt1-http版の中の人が投下したパッチを拡張)
     *** こちらは旧方式で非推奨です ***
     有効にする場合は、config.phpとdo-record.shの編集が必要です。
     do-record.shについては同梱されているdo-record.sh.sampleを参考にしてください。
     対象チューナーは、httpサーバー機能もしくは無限録画＋stdout出力ができる物です。
     httpサーバー機能がないものについてはVLC(cvlc)で配信を行います。
     視聴終了は、プレイヤーで再生停止するだけでなく録画コマンド終了とチューナー管理の
     ために番組表右上にある[視聴終了]をクリックしてください。
     httpサーバー対応録画コマンドを使用している場合、プレイヤーからチャンネル変更を
     することが出来ますが放送波変更をともなうチャンネル変更は、チューナー資源管理に
     支障がでますのでやらないで下さい。
     トランスコードストリーミングには非対応

  30.１番組につきprogram_id付き予約の重複制限を緩和
     ひとつの枠にまとめられた複数番組を追跡可能状態で分離録画することが出来ます。
     これに伴い自動予約キーワード間での予約の多重・排他をキーワード毎に指定できるよ
     うにしました。
     ゆるい条件などで重複予約されてしてしまう場合は、多重禁止にして優先度を他のキーワード
     より下げると重複予約が解消されます。

  31.録画後のトランスコードをシステムでサポート
     トランスコード用途への利便性を追求していますが「後処理」としての使用も出来るので
     CMカットしてからトラコンとかはユーザーでシェルスクリプトを組んでください。

  32.通常運用と間欠運用（省電力）の遷移簡易化
     間欠運用のセットアップ済みであればシステム設定の設定変更だけで運用変更ができます。
     間欠運用中はドロップダウンメニューから間欠運用の一時停止・再開ができます。
     サーバー上でWUIを使用すると間欠運用を一時停止します。

  33.トランスコードストリーミング対応
     録画ファイルとチューナー出力の両方で可能です。

  34.do-record.shの廃止
     config.phpで録画コマンドの設定を行うようになったので廃止しました。
     録画での利用については非推奨ですが可能です。

  35.htmlから共通CSSを分離してファイル化
     ジャンルとチューナーの色設定を変更したい場合は、./start/layout.cssを編集してください。

  36.選別番組表の追加
     放送波を問わず好みのチャンネルを一覧表示する事ができます。


[備考]
  ・Rec10版epgdumpの採用によりchannel_discのフォーマットが変わりました。
    地デジは、"GRnn"から"GRnn_サービスID"
    BSは、ONTVcodeから"BS_サービスID"
    CSは、ONTVcodeから"CS_サービスID"

  ・BSの物理チャンネル指定書式をサービスID(SID)から"BSnn_s"(nn=ノード番号,s=スロット番号)に
    変更しました。これによりBSの再編に追従できるようになります。


[論理チューナー数関連]
  地デジ・衛星それぞれ20台まで対応(定義を変更することで拡張可能 ハード・ソフトの許す限り制限なし)
  WUI上の色分けは、地デジ・衛星それぞれ４台まで(CSSの色定義がされていないため)
  変更したい場合は、./start/layout.cssを編集してください。


[WANからのアクセスについて]
  HTTP認証が必須です。
  IPv6についてはまじめに資料を調べていないので仮対応としておきます。問題が有るようでしたら一報願います。

[セキュリティ]
  epgrec系を攻撃対象としているクラッカーの目的は、踏み台や情報収集ではなくアニメの録画データ収集です。
  現在のepgrecUNAは、WANからのアクセスについてHTTP認証が必須ですが安心してはいけません。
  録画システム(epgrec系以外も)の存在を察知されるとそのセキュリティホールだけでなくOSや他アプリ
  のものまで攻撃対象となります。
  よってセキュリティ対策として録画システムの隠匿が重要です。

  セキュリティ対策は、以下のものを行なってください。
  ・認証をかける
  ・ポートを80・8080番以外にする
    当然、ポートスキャン対策も併用してください。
  ・インストールパスを変える
    ディレクトリ名を変えたりディレクトリ構造を深くして推測し難いものにしてください。
    "epgrecUNA"・"epgrec_UNA"・"UNA"など在り来たりなものについては攻撃側で対処済みなので避けましょう。
    その際に空のindex.htmlを置くなどホームディレクトリ以下の不可視処置を忘れずに
  ・IP制限


[追加スクリプト]
  toggleAutorec.php
    自動予約禁止フラグ切り替えスクリプト（JavaScriptから呼ばれる）

  cancelReservationForm.php
    予約キャンセルのフォームを返す（JavaScriptから呼ばれる）

  scoutEpg.php
    録画前・単チャンネルEPG取得更新スクリプト（ATから呼ばれる）

  shepherd.php
    並列受信EPG取得更新管理スクリプト管理

  sheepdog.php
    地上波EPG取得更新管理（shepherd.phpから呼ばれる）

  collie.php
    衛星波EPG取得更新管理（shepherd.phpから呼ばれる）

  airwavesSheep.php
    単チャンネルEPG取得更新スクリプト（sheepdog.php・collie.phpから呼ばれる）

  repairEpg.php
    番組構成の乱れ修正・EPG取得更新スクリプト（storeProgram.inc.phpから呼ばれる）

  transwatch.php
  watch.php
    リアルタイム視聴開始･終了スクリプト(index.htmlから呼ばれる)

  resetEXmem.php
    チューナー資源管理用共有メモリ初期化スクリプト(ツール)

  showEXmem.php
    チューナー資源管理用共有メモリ内容表示スクリプト(ツール)

  rev_test.php
    自動キーワード予約再実行スクリプト(ツール)
    '-r'既存予約全削除後予約再実行 '-rr'既存予約全削除後終了

  trans_manager.php
    トランスコード管理スクリプト（recomplete.phpから呼ばれる）

[ライセンス]
  オリジナルに準じます。
  本家に取り込まれた場合は、その時点で当方の権利を本家に移譲します。


[免責]
  不具合修正･機能追加等の義務を負いません。(善処はします)


[不具合報告･要望など]
  適当な何かの別館 http://d.hatena.ne.jp/katauna/ にコメントを寄せてください。
  2ch・Twitter・個人ブログなどでの応対は致しません。間違った情報でも放置します。

  [とりあえずやらない事案]
  ・本家recorder.phpまわりの移植
    ぶっちゃけrecorder.phpとReservation.class.phpを改造するのがめんどくさい


[今後の予定は未定]
  ・トランスコード管理
    とりあえず対応してみましたが使っていないので今後どうなるかは未定
    要望があればブログに一報ください。

  ・トランスコード視聴
    とりあえず対応してみましたが使っていないので今後どうなるかは未定 その２
    最大ビットレートやフォーマット(コンテナ・コーデック)をWUIから変更できた方が良いですかね
    HLSは、一時ファイルの扱いが面倒なので対応しないつもり

  ・番組タイトルの正規化
    以下の作業をepgdumpで行い検索精度を向上させる
    ・英数字記号の全半角統一
    ・【新】【再】などの番組情報を「概要」に移動と書式統一
    ・無駄な修飾の除去
    ・話数とサブタイトルを「番組タイトル」に集約と書式統一
    ・アニメのタイトルとジャンルコードの補整
    ・アニメの話数とサブタイトルを「しょぼいカレンダー」から補完
    自分用にはepgrecUNAを公開する前から運用していた訳ですがバグが出ると録画に支障がある場合がある・
    特番などで融通が利かない場合がある・EPG編集者の自由度に対応し切れない・運用に癖がある・
    一部自動化していない部分があるなどの理由でいまだ公開には到っていません。
    さてどうしましょうかねえ…　スパゲティなソースを晒すのも抵抗があるしなぁ　gotoおいしいよw

  ・BonDriverProxy完全対応
    １チューナーから分離した形での多チャンネル録画や番組延伸の完全自動化が可能になる。
    デバッグ専用機を用意できない・チューナー管理が凡ドラ専用になってしまうので今のところ構想のみとしておく
