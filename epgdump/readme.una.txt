rec10付属のepgdumpを元にしています。


[主な変更点]
・標準出力フォーマットをXMLからシリアライズに変更
　データ構造は、serialize_sample.txtを参照のこと
　従来のXML出力は、"-xml"にて行う。

・eit[schedule]とeit[pf]を分離して出力
　XML出力でのeit[pf]のタグは、"programme_pf"です。

・サービスごとにeit[schedule]とeit[pf]の数量を出力するようにした。
　XML出力でのタグは、"programme_cnt"です。

・eit[pf]に番組伸延に関するステータス情報を付加（0:正常、1:開始時間未定、2:番組長未定）

・eit[pf]にeit[schedule]上の位置情報を出力するようにした。

・コマンドラインの後方に"-pf"を付加することでeit[pf]のみを出力
　４秒分ぐらいのTSファイルで出力できます。

・単チャンネルデータ出力に対応 "-sid 目標チャンネルのサービスID"

・出力データから不要チャンネルを除外できるようにした。(除外サービスIDをCSVフォーマットで羅列)
  "-cut 除外チャンネルのサービスID1,除外チャンネルのサービスID2,･･･"

・一部の番組でジャンルが"ニュース・報道：定時・総合"になる不具合を修正

・特定のジャンル情報が出力されない不具合を修正

・ジャンル情報とサブジャンル情報を１番組につき３つに拡張
・BS/地上デジタル放送用番組付属情報とCS拡張ジャンルコードをジャンル:拡張のサブジャンルに独自仕様で取り込んだ。
　サブジャンル情報に関しては subgenre_format.c を参照のこと

・ジャンルの第一項に拡張ジャンルコードが設定されている場合は、可能ならば他項と入れ替えるようにした。

・デジタルＴＶサービスのみに出力が絞られていたのでデジタル音声サービスとWNIも出力できるようにした。
　ついでにコマンドラインの後方に"-all"を付加することで全サービスを出力できるようにした。

・L-EIT(ワンセグ)暫定対応
　デフォルトでは無効化されているので Makefileのコンパイル・オプションに"-DENABLE_1SEG"を設定すること
　PID 0x27が含まれたTSが必要　また実行時のコマンドライン後方に"-all"を付加すること

・EIT解析を対象サービスIDに絞って行うように修正
・EIT解析を全対象サービスごとに分別して並列で行うように変更
・EIT解析のストリーム入力に対応
　これらによりBS/CS出力にて大幅に高速化された。

・一部の構造体を整理･統合

・放送休止を補完するようにした。
　EIT解析時に連続性が確認された場合は、ジャンル=15,サブジャンル=0x3fを設定
　連続性が確認できない場合は、ジャンル=15,サブジャンル=14を設定

・チャンネルの並びをサービスID順になるように修正

・XML出力フォーマットをrec10版から独自仕様に変更
　rec10フォーマットで出力したい場合は、Makefile.rec10 でMakeすること

　[変更内容]
　・タイムスタンプ表記を"yymmdd hhmmss +0900"から"yy-mm-dd hh:mm:ss"に変更

　・ジャンル情報とビデオ･オーディオ情報を数値のみに
    ビデオ･オーディオ情報に関しては audio_video_format.c を参照のこと

　・拡張番組詳細を無効化


[備考]
・追加分のコマンドライン処理は手抜きなので順番等には気をつけること

・自分向けカスタマイズを統合した。この部分は、サポートをしないので自己責任で利用すること
　MoveAribMark　　タイトルに含まれる"[字]"などの情報文字列を番組概要に移動または削除する。
　ZenToHan　　　　英数字と記号（一部除く）を全角から半角へ変換を行う。
　KATAUNA 　　　　epgdump.c内については、非公開関数(計3700行のスパゲティ・運用にメンテが必要<デグレがめんどい)
　　　　　　　　　aribstr.c内については、改行出力有効化とArib文字のrec10版とr2版との切り替えに使用してる。


[ライセンス・再配布]
オリジナルに準じます。
